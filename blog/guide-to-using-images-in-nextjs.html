<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><meta name="description" content="Personal Website of Florin Cosmin Onciu. Here is my personal space where I will mostly post about technology and my personal project"/><meta name="msapplication-TileColor" content="#da532c"/><meta name="theme-color" content="#ffffff"/><link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="manifest" href="/favicons/site.webmanifest"/><link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="next-head-count" content="10"/><link rel="preload" href="/_next/static/css/363decf1691ff34f6c46.css" as="style"/><link rel="stylesheet" href="/_next/static/css/363decf1691ff34f6c46.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-61095c13c5984b221292.js" defer=""></script><script src="/_next/static/chunks/main-cfbed6d4589fe38b8ef6.js" defer=""></script><script src="/_next/static/chunks/pages/_app-7118b79f539ca1313806.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-ca08f3434484ad0b5fd9.js" defer=""></script><script src="/_next/static/TJUy5eS2o1cD-K1IgCK7O/_buildManifest.js" defer=""></script><script src="/_next/static/TJUy5eS2o1cD-K1IgCK7O/_ssgManifest.js" defer=""></script></head><body class="bg-gradient-to-br from-gray-50 to-purple-100 bg-no-repeat min-h-screen "><div id="__next"><div class="flex flex-col min-h-screen"><div class="flex flex-col items-center justify-end py-2 space-y-1 font-medium bg-purple-400 border-b border-purple-100 text-purple-50 md:space-y-0 md:py-0 md:flex-row"><a class="w-full px-8 py-2 text-center transition-all duration-300 border-l-4 border-transparent md:border-l-0 md:border-b-4 md:w-auto md:py-6 hover:bg-purple-600 hover:cursor-pointer hover:text-purple-100 hover:underline hover:border-purple-800" href="/blog">Blog</a><a class="w-full px-8 py-2 text-center transition-all duration-300 border-l-4 border-transparent md:border-l-0 md:border-b-4 md:w-auto md:py-6 hover:bg-purple-600 hover:cursor-pointer hover:text-white hover:underline hover:border-purple-800">Projects</a><a class="w-full px-8 py-2 text-center transition-all duration-300 border-l-4 border-transparent md:border-l-0 md:border-b-4 md:w-auto md:py-6 hover:bg-purple-600 hover:cursor-pointer hover:text-white hover:underline hover:border-purple-800">Skills</a><a class="w-full px-8 py-2 text-center transition-all duration-300 border-l-4 border-transparent md:border-l-0 md:border-b-4 md:w-auto md:py-6 hover:bg-purple-600 hover:cursor-pointer hover:text-white hover:underline hover:border-purple-800">Contact</a><a class="flex justify-center w-full px-8 py-2 text-center transition-all duration-300 border-l-4 border-transparent md:border-l-0 md:border-b-4 md:w-auto md:py-6 hover:bg-purple-200 hover:cursor-pointer hover:text-purple-900 hover:underline hover:border-purple-800 gap-x-1"><svg class="w-6 h-6 text-gray-66" viewBox="0 0 16 16" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>Github</a></div><section class="px-4 py-4 sm:py-6 md:py-8 sm:px-6 md:px-8  bg-gradient-to-r from-purple-200 to-yellow-100 py-8 flex align-center justify-center text-center"><div class="container mx-auto"><h1 class="text-3xl font-semibold text-gray-700 md:text-5xl"><span class="inline-block pb-1 border-b-4 border-yellow-400">DEV Images in Next.js</span></h1></div></section><section class="px-4 py-4 sm:py-6 md:py-8 sm:px-6 md:px-8  mx-auto bg-gray-50"><div class="container mx-auto"><div class="prose md:prose-md lg:prose-lg xl:prose-xl"><h1>Introduction</h1><p>The tailwind starter blog has out of the box support for <a href="https://nextjs.org/docs/api-reference/next/image">Next.js&#x27;s built-in image component</a> and automatically swaps out default image tags in markdown or mdx documents to use the Image component provided.</p><h1>Usage</h1><p>To use in a new page route / javascript file, simply import the image component and call it e.g.</p><pre><code class="language-js">import Image from &#x27;next/image&#x27;

function Home() {
  return (
    &lt;&gt;
      &lt;h1&gt;My Homepage&lt;/h1&gt;
      &lt;Image
        src=&quot;/me.png&quot;
        alt=&quot;Picture of the author&quot;
        width={500} height={500}
      /&gt;
      &lt;p&gt;Welcome to my homepage!&lt;/p&gt;
    &lt;/&gt;
  )
}

export default Home
</code></pre><p>For a markdown file, the default image tag can be used and the default <code>img</code> tag gets replaced by the <code>Image</code> component in the build process.</p><p>Assuming we have a file called <code>ocean.jpg</code> in <code>data/img/ocean.jpg</code>, the following line of code would generate the optimized image.</p><pre><code>![ocean](/static/images/ocean.jpg)
</code></pre><p>Alternatively, since we are using mdx, we can just use the image component directly! Note, that you would have to provide a fixed width and height. The <code>img</code> tag method parses the dimension automatically.</p><pre><code class="language-js">&lt;Image
  alt=&quot;ocean&quot;
  src=&quot;/static/images/ocean.jpg&quot;
  width={256} height={128}
/&gt;
</code></pre><p><em>Note</em>: If you try to save the image, it is in webp format, if your browser supports it!</p><p><img src="/static/images/ocean.jpeg" alt="ocean"/></p><p>Photo by<!-- --> <a href="https://unsplash.com/@yucar?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">YUCAR FotoGrafik</a> <!-- -->on<!-- --> <a href="https://unsplash.com/s/photos/sea?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></p><h1>Benefits</h1><ul><li>Smaller image size with Webp (~30% smaller than jpeg)</li><li>Responsive images - the correct image size is served based on the user&#x27;s viewport</li><li>Lazy loading - images load as they are scrolled to the viewport</li><li>Avoids <a href="https://web.dev/cls/">Cumulative Layout Shift</a></li><li>Optimization on demand instead of build-time - no increase in build time!</li></ul><h1>Limitations</h1><ul><li><p>Due to the reliance of <code>next/image</code>, unless you are using an external image CDN like Cloudinary or Imgix, it is practically required to use Vercel for hosting. This is because the component acts like a serverless function that calls a highly optimized image CDN.</p><p>If you do not want to be tied to Vercel, you can remove <code>imgToJsx</code> in <code>remarkPlugins</code> in <code>lib/mdx.js</code>. This would avoid substituting the default <code>img</code> tag.</p><p>Alternatively, one could wait for image optimization at build time to be supported. A different library, <a href="https://github.com/cyrilwanner/next-optimized-images">next-optimized-images</a> does that, although it requires transforming the images through webpack which is not done here.</p></li><li><p>Images from external links are not passed through <code>next/image</code></p></li><li><p>All images have to be stored in the <code>public</code> folder e.g <code>/static/images/ocean.jpeg</code></p></li></ul></div></div></section><div class="mt-auto"><section class="px-4 py-4 sm:py-6 md:py-8 sm:px-6 md:px-8  bg-purple-400 text-gray-100"><div class="container mx-auto"><footer class="flex flex-col space-y-4 text-lg lg:flex-row lg:space-y-0 lg:space-between lg:align-center"><ul class="flex justify-center space-x-4"><li><a href="#" class="hover:text-purple-600 hover:border-b hover:border-purple-700">Github</a></li><li><a href="#" class="hover:text-purple-600 hover:border-b hover:border-purple-700">Linkedin</a></li><li><a href="#" class="hover:text-purple-600 hover:border-b hover:border-purple-700">Twitter</a></li></ul><p class="flex-1 pt-4 text-center text-gray-200 border-t border-gray-200 lg:text-right lg:pt-0 lg:border-t-0">Built with <span class="text-red-500">❤️</span> using Next.js, React/Preact and Tailwind CSS. © 2021 <span class="">florin-cosmin.dk</span></p></footer></div></section></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"source":{"compiledSource":"var d=Object.defineProperty,u=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;var l=(e,a,t)=\u003ea in e?d(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,n=(e,a)=\u003e{for(var t in a||(a={}))p.call(a,t)\u0026\u0026l(e,t,a[t]);if(o)for(var t of o(a))r.call(a,t)\u0026\u0026l(e,t,a[t]);return e},m=(e,a)=\u003eu(e,h(a));var s=(e,a)=\u003e{var t={};for(var i in e)p.call(e,i)\u0026\u0026a.indexOf(i)\u003c0\u0026\u0026(t[i]=e[i]);if(e!=null\u0026\u0026o)for(var i of o(e))a.indexOf(i)\u003c0\u0026\u0026r.call(e,i)\u0026\u0026(t[i]=e[i]);return t};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var i=t,{components:e}=i,a=s(i,[\"components\"]);return mdx(MDXLayout,m(n(n({},layoutProps),a),{components:e,mdxType:\"MDXLayout\"}),mdx(\"h1\",null,\"Introduction\"),mdx(\"p\",null,\"The tailwind starter blog has out of the box support for \",mdx(\"a\",n({parentName:\"p\"},{href:\"https://nextjs.org/docs/api-reference/next/image\"}),\"Next.js's built-in image component\"),\" and automatically swaps out default image tags in markdown or mdx documents to use the Image component provided.\"),mdx(\"h1\",null,\"Usage\"),mdx(\"p\",null,\"To use in a new page route / javascript file, simply import the image component and call it e.g.\"),mdx(\"pre\",null,mdx(\"code\",n({parentName:\"pre\"},{className:\"language-js\"}),`import Image from 'next/image'\n\nfunction Home() {\n  return (\n    \u003c\u003e\n      \u003ch1\u003eMy Homepage\u003c/h1\u003e\n      \u003cImage\n        src=\"/me.png\"\n        alt=\"Picture of the author\"\n        width={500} height={500}\n      /\u003e\n      \u003cp\u003eWelcome to my homepage!\u003c/p\u003e\n    \u003c/\u003e\n  )\n}\n\nexport default Home\n`)),mdx(\"p\",null,\"For a markdown file, the default image tag can be used and the default \",mdx(\"inlineCode\",{parentName:\"p\"},\"img\"),\" tag gets replaced by the \",mdx(\"inlineCode\",{parentName:\"p\"},\"Image\"),\" component in the build process.\"),mdx(\"p\",null,\"Assuming we have a file called \",mdx(\"inlineCode\",{parentName:\"p\"},\"ocean.jpg\"),\" in \",mdx(\"inlineCode\",{parentName:\"p\"},\"data/img/ocean.jpg\"),\", the following line of code would generate the optimized image.\"),mdx(\"pre\",null,mdx(\"code\",n({parentName:\"pre\"},{}),`![ocean](/static/images/ocean.jpg)\n`)),mdx(\"p\",null,\"Alternatively, since we are using mdx, we can just use the image component directly! Note, that you would have to provide a fixed width and height. The \",mdx(\"inlineCode\",{parentName:\"p\"},\"img\"),\" tag method parses the dimension automatically.\"),mdx(\"pre\",null,mdx(\"code\",n({parentName:\"pre\"},{className:\"language-js\"}),`\u003cImage\n  alt=\"ocean\"\n  src=\"/static/images/ocean.jpg\"\n  width={256} height={128}\n/\u003e\n`)),mdx(\"p\",null,mdx(\"em\",{parentName:\"p\"},\"Note\"),\": If you try to save the image, it is in webp format, if your browser supports it!\"),mdx(\"p\",null,mdx(\"img\",n({parentName:\"p\"},{src:\"/static/images/ocean.jpeg\",alt:\"ocean\"}))),mdx(\"p\",null,\"Photo by\",\" \",mdx(\"a\",{href:\"https://unsplash.com/@yucar?utm_source=unsplash\u0026utm_medium=referral\u0026utm_content=creditCopyText\"},\"YUCAR FotoGrafik\"),\" \",\"on\",\" \",mdx(\"a\",{href:\"https://unsplash.com/s/photos/sea?utm_source=unsplash\u0026utm_medium=referral\u0026utm_content=creditCopyText\"},\"Unsplash\")),mdx(\"h1\",null,\"Benefits\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Smaller image size with Webp (~30% smaller than jpeg)\"),mdx(\"li\",{parentName:\"ul\"},\"Responsive images - the correct image size is served based on the user's viewport\"),mdx(\"li\",{parentName:\"ul\"},\"Lazy loading - images load as they are scrolled to the viewport\"),mdx(\"li\",{parentName:\"ul\"},\"Avoids \",mdx(\"a\",n({parentName:\"li\"},{href:\"https://web.dev/cls/\"}),\"Cumulative Layout Shift\")),mdx(\"li\",{parentName:\"ul\"},\"Optimization on demand instead of build-time - no increase in build time!\")),mdx(\"h1\",null,\"Limitations\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},\"Due to the reliance of \",mdx(\"inlineCode\",{parentName:\"p\"},\"next/image\"),\", unless you are using an external image CDN like Cloudinary or Imgix, it is practically required to use Vercel for hosting. This is because the component acts like a serverless function that calls a highly optimized image CDN.\"),mdx(\"p\",{parentName:\"li\"},\"If you do not want to be tied to Vercel, you can remove \",mdx(\"inlineCode\",{parentName:\"p\"},\"imgToJsx\"),\" in \",mdx(\"inlineCode\",{parentName:\"p\"},\"remarkPlugins\"),\" in \",mdx(\"inlineCode\",{parentName:\"p\"},\"lib/mdx.js\"),\". This would avoid substituting the default \",mdx(\"inlineCode\",{parentName:\"p\"},\"img\"),\" tag.\"),mdx(\"p\",{parentName:\"li\"},\"Alternatively, one could wait for image optimization at build time to be supported. A different library, \",mdx(\"a\",n({parentName:\"p\"},{href:\"https://github.com/cyrilwanner/next-optimized-images\"}),\"next-optimized-images\"),\" does that, although it requires transforming the images through webpack which is not done here.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},\"Images from external links are not passed through \",mdx(\"inlineCode\",{parentName:\"p\"},\"next/image\"))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},\"All images have to be stored in the \",mdx(\"inlineCode\",{parentName:\"p\"},\"public\"),\" folder e.g \",mdx(\"inlineCode\",{parentName:\"p\"},\"/static/images/ocean.jpeg\")))))}MDXContent.isMDXComponent=!0;\n","scope":{"title":"DEV Images in Next.js","date":"2020-11-11","tags":["next js","guide"],"draft":false,"summary":"In this article we introduce adding images in the tailwind starter blog and the benefits and limitations of the next/image component."}},"frontMatter":{"title":"DEV Images in Next.js","date":"2020-11-11","tags":["next js","guide"],"draft":false,"summary":"In this article we introduce adding images in the tailwind starter blog and the benefits and limitations of the next/image component."}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["guide-to-using-images-in-nextjs"]},"buildId":"TJUy5eS2o1cD-K1IgCK7O","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>